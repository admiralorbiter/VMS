<div class="modal-content" _="on load add .show to me add .show to #userEditModal">
    <div class="modal-header">
        <h5>Edit User: {{ user.username }}</h5>
        <button class="modal-close" _="on click remove .show from #modalBackdrop remove .show from #userEditModal">&times;</button>
    </div>

    <form class="modal-form" hx-put="/management/users/{{ user.id }}" hx-swap="none" _="on htmx:afterRequest remove .show from #modalBackdrop remove .show from #userEditModal">
        <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="email" class="form-control" value="{{ user.email }}" required>
        </div>

        <div class="form-group">
            <label for="security_level">Security Level</label>
            <select id="security_level" name="security_level" class="form-select" required>
                <option value="0" {% if user.security_level == 0 %}selected{% endif %}>User</option>
                <option value="1" {% if user.security_level == 1 %}selected{% endif %}>Supervisor</option>
                <option value="2" {% if user.security_level == 2 %}selected{% endif %}>Manager</option>
                <option value="3" {% if user.security_level == 3 %}selected{% endif %}>Admin</option>
            </select>
        </div>

        <div class="form-group">
            <label for="new_password">New Password (leave blank to keep current)</label>
            <input type="password" id="new_password" name="new_password" class="form-control">
        </div>

        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" _="on click remove .show from #modalBackdrop remove .show from #userEditModal">Cancel</button>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
    </form>
</div>
